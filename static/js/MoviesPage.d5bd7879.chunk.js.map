{"version":3,"sources":["Service/ServiceApi.js","Images/default.jpg","components/SearchForm/SearchForm.module.css","Views/MoviesPage/MoviesPage.module.css","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@babel/runtime/helpers/esm/objectSpread2.js","components/SearchForm/SearchForm.js","Views/MoviesPage/MoviesPage.js"],"names":["BASE_URL","API_KEY","getTrendingMovies","axios","get","getMovieDetails","movieId","getCast","getReviews","getMovieBySearch","searchQuery","module","exports","_defineProperty","obj","key","value","Object","defineProperty","enumerable","configurable","writable","ownKeys","object","enumerableOnly","keys","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","push","apply","_objectSpread2","target","i","arguments","length","source","forEach","getOwnPropertyDescriptors","defineProperties","SearchForm","onSubmit","useState","search","setSearch","e","preventDefault","className","s","form","type","onChange","toLowerCase","trim","placeholder","autoFocus","searchInput","searchBtn","MoviesPage","movie","setMovie","history","useHistory","location","useLocation","URLSearchParams","useEffect","then","data","results","toast","error","catch","movieList","map","id","poster_path","title","movieItem","to","pathname","state","from","movieTitle","src","noImage","alt","width"],"mappings":"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","file":"static/js/MoviesPage.d5bd7879.chunk.js","sourcesContent":["import axios from 'axios';\r\n\r\nconst BASE_URL = 'https://api.themoviedb.org/3';\r\nconst API_KEY = '5a0ea8669d169b89996fed3dc54f9383';\r\n\r\nexport const getTrendingMovies = () =>\r\n    axios.get(`${BASE_URL}/trending/movie/week?api_key=${API_KEY}`);\r\n\r\nexport const getMovieDetails = movieId =>\r\n    axios.get(`${BASE_URL}/movie/${movieId}?api_key=${API_KEY}`);\r\n\r\nexport const getCast = movieId =>\r\n    axios.get(`${BASE_URL}/movie/${movieId}/credits?api_key=${API_KEY}`);\r\n\r\nexport const getReviews = movieId =>\r\n    axios.get(`${BASE_URL}/movie/${movieId}/reviews?api_key=${API_KEY}`);\r\n\r\nexport const getMovieBySearch = searchQuery =>\r\n    axios.get(\r\n        `${BASE_URL}/search/movie?api_key=${API_KEY}&query=${searchQuery}`,\r\n    );\r\n","export default __webpack_public_path__ + \"static/media/default.2e01288c.jpg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchInput\":\"SearchForm_searchInput__1NOA7\",\"searchBtn\":\"SearchForm_searchBtn__1h7rM\",\"form\":\"SearchForm_form__2y1C1\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"movieTitle\":\"MoviesPage_movieTitle__2yH5x\",\"movieList\":\"MoviesPage_movieList__1Jj2E\",\"movieItem\":\"MoviesPage_movieItem__2DQnk\"};","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","import PropTypes from 'prop-types';\r\nimport { useState } from 'react';\r\nimport s from './SearchForm.module.css';\r\n\r\nconst SearchForm = ({ onSubmit }) => {\r\n    const [search, setSearch] = useState('');\r\n\r\n    const HandleChange = e => {\r\n        setSearch(e.target.value.toLowerCase().trim());\r\n    };\r\n\r\n    const HandleSubmit = e => {\r\n        e.preventDefault();\r\n        onSubmit(search);\r\n        setSearch('');\r\n    };\r\n\r\n    return (\r\n        <form onSubmit={HandleSubmit} className={s.form}>\r\n            <input\r\n                type=\"text\"\r\n                onChange={HandleChange}\r\n                placeholder=\"text here movie you wanted\"\r\n                autoFocus\r\n                className={s.searchInput}\r\n            />\r\n            <button type=\"submit\" className={s.searchBtn}>\r\n                Search\r\n            </button>\r\n        </form>\r\n    );\r\n};\r\n\r\nSearchForm.propTypes = {\r\n    onSubmit: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default SearchForm;\r\n","import { useEffect, useState } from 'react';\r\nimport { Link, useHistory, useLocation } from 'react-router-dom';\r\nimport { toast } from 'react-toastify';\r\nimport SearchForm from '../../components/SearchForm';\r\nimport noImage from '../../Images/default.jpg';\r\nimport { getMovieBySearch } from '../../Service/ServiceApi';\r\nimport s from './MoviesPage.module.css';\r\n\r\nconst MoviesPage = () => {\r\n    const [movie, setMovie] = useState(null);\r\n    const history = useHistory();\r\n    const location = useLocation();\r\n\r\n    const onChangeQuery = value => {\r\n        history.push({ ...location, search: `query=${value}` });\r\n    };\r\n\r\n    const searchQuery = new URLSearchParams(location.search).get('query');\r\n\r\n    useEffect(() => {\r\n        if (!searchQuery) {\r\n            return;\r\n        }\r\n\r\n        getMovieBySearch(searchQuery)\r\n            .then(({ data }) => {\r\n                if (data.results.length === 0) {\r\n                    toast.error(`No movie for your request ${searchQuery}`);\r\n                    setMovie(null);\r\n                }\r\n                setMovie(data.results);\r\n            })\r\n            .catch(error =>\r\n                toast.error('Sorry! Something wrong! Please, try again later'),\r\n            );\r\n    }, [searchQuery]);\r\n\r\n    return (\r\n        <section>\r\n            <SearchForm onSubmit={onChangeQuery} />\r\n            {movie && (\r\n                <ul className={s.movieList}>\r\n                    {movie.map(({ id, poster_path, title }) => (\r\n                        <li key={id} className={s.movieItem}>\r\n                            <Link\r\n                                to={{\r\n                                    pathname: `/movies/${id}`,\r\n                                    state: { from: location },\r\n                                }}\r\n                            >\r\n                                <p className={s.movieTitle}>{title}</p>\r\n                                <img\r\n                                    src={\r\n                                        poster_path\r\n                                            ? `https://image.tmdb.org/t/p/w300/${poster_path}`\r\n                                            : noImage\r\n                                    }\r\n                                    alt={title}\r\n                                    width=\"250\"\r\n                                />\r\n                            </Link>\r\n                        </li>\r\n                    ))}\r\n                </ul>\r\n            )}\r\n        </section>\r\n    );\r\n};\r\n\r\nexport default MoviesPage;\r\n"],"sourceRoot":""}